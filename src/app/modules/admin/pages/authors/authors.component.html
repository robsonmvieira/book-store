<app-home-admin>
  <div class="wapper">
    <div class="top-description">
      <div class="descriptions">
      <span class="span">
        Autores |
      </span>
      <span class="latest">
        {{ authorCount$ | async }} recentes
      </span>
      </div>
      <div class="add-btn">
        <button class="button" (click)="openModal()">
          + Adicionar Autor
        </button>
      </div>
    </div>
    <div class="search-container">
      <div class="search">
        <input type="text" placeholder="Buscar Editora" class="input">
        <img src="../../../../../assets/icons/loupe.svg" alt="" srcset="">
      </div>
    </div>

    <div class="content">
      <div class="list">
        <div class="title">
          <span>Nome</span>
        </div>
        <div class="author">
          <span>Email</span>
        </div>
        <div class="publisher">
          <span>Livros cadastrados</span>
        </div>
        <div class="publisher">
          <span><img src="../../../../../assets/icons/hammer.svg" alt="" srcset=""></span>
        </div>
      </div>

      <div class="content--body">
        <ul class="body--list">
            <li class="body--item" *ngFor="let author of (authors$ | async)">
             <span class="item--name">
               {{ author.name }}
             </span>
             <span>
               {{ author.email }}
             </span>
             <span>
               {{ author.books?.length ?  author.books.length : 0 }}
             </span>
             <span>
              <img src="../../../../../assets/icons/edit-button.svg"
              alt="edit button icon"
              style="margin-right: 10px; cursor: pointer;"
              (click)="goToEdit(author.id)"
              >
              <img
              src="../../../../../assets/icons/details.svg"
              alt="detail button icon"
              style="cursor: pointer;"
              (click)="goToDetail(author.id)">
             </span>
            </li>
        </ul>
      </div>
    </div>
  </div>
  <app-form-resource-modal #modalForm ></app-form-resource-modal>
</app-home-admin>
